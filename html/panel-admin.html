<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Panel Administrativo - Sistema de Ventas</title>
  <link rel="stylesheet" href="./css/panel.css">
  <script src="./javascript/panel.js" defer></script>
</head>
<body>

  <nav class="navbar">
    <span>Sistema de Ventas</span>
    <span style="float: right;"><a href="login.html" style="color: white;">Cerrar sesión</a></span>
  </nav>
  

  <div class="container">
    <aside class="sidebar">
      <ul>
        <li><button id="btn-dashboard" class="active">Dashboard</button></li>
        <li><button id="btn-clientes">Clientes</button></li>
        <li><button id="btn-configuracion">Configuración</button></li>
      </ul>
    </aside>

    <main class="content">
      <section id="dashboard" class="panel-section">
        <h2>Dashboard Super Panel</h2>
        <div class="metrics-container" style="display:flex; gap:1rem; margin-top:1rem; flex-wrap:wrap;">
          <div class="metric-card" style="flex:1 1 200px; background:#007bff; color:white; padding:1.5rem; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.15);">
            <h3>Clientes Activos</h3>
            <p style="font-size:2rem; font-weight:700; margin:0;">125</p>
          </div>
          <div class="metric-card" style="flex:1 1 200px; background:#28a745; color:white; padding:1.5rem; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.15);">
            <h3>Ingresos Totales</h3>
            <p style="font-size:2rem; font-weight:700; margin:0;">$58,340</p>
          </div>
          <div class="metric-card" style="flex:1 1 200px; background:#ffc107; color:#333; padding:1.5rem; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.15);">
            <h3>Stock Total</h3>
            <p style="font-size:2rem; font-weight:700; margin:0;">1,250</p>
          </div>
        </div>
      </section>
      

      <section id="clientes" class="panel-section">
        <h2>Gestión de Clientes</h2>
        <button id="btn-nuevo-cliente" style="margin-bottom:1rem; padding:0.5rem 1rem; font-weight:600; border-radius:5px; border:none; background-color:#28a745; color:white; cursor:pointer;">
          + Nuevo Cliente
        </button>

        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Email</th>
              <th>Teléfono</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="tabla-clientes">
            <tr>
              <td>1</td>
              <td>Juan Pérez</td>
              <td>juan@example.com</td>
              <td>+54 11 1234-5678</td>
              <td>
                <button class="editar" data-id="1">Editar</button>
                <button class="eliminar" data-id="1">Eliminar</button>
              </td>
            </tr>
            <tr>
              <td>2</td>
              <td>María Gómez</td>
              <td>maria@example.com</td>
              <td>+54 11 8765-4321</td>
              <td>
                <button class="editar" data-id="2">Editar</button>
                <button class="eliminar" data-id="2">Eliminar</button>
              </td>
            </tr>
          </tbody>
        </table>

        <!-- Formulario Cliente (oculto inicialmente) -->
        <div id="form-cliente" style="display:none; margin-top:2rem; padding:1rem; border:1px solid #ccc; border-radius:8px; background:#fefefe;">
          <h3 id="form-titulo">Nuevo Cliente</h3>
          <form id="cliente-form">
            <input type="hidden" id="cliente-id" />
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required />

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required />

            <label for="telefono">Teléfono:</label>
            <input type="text" id="telefono" name="telefono" />

            <div style="margin-top:1rem;">
              <button type="submit" style="background-color:#007bff; color:white; padding:0.5rem 1rem; border:none; border-radius:5px; cursor:pointer;">
                Guardar
              </button>
              <button type="button" id="cancelar" style="margin-left:1rem; padding:0.5rem 1rem; border:none; border-radius:5px; cursor:pointer;">
                Cancelar
              </button>
            </div>
          </form>
        </div>

      </section>

      <section id="configuracion" class="panel-section">
        <h2>Configuración del Super Panel</h2>
      
        <!-- Apariencia -->
        <div style="margin-top:1rem; padding:1rem; border:1px solid #ccc; border-radius:8px; background:#f9f9f9;">
          <h3>Apariencia</h3>
          <label for="tema-select">Tema:</label>
          <select id="tema-select" style="margin-left:0.5rem; padding:0.3rem;">
            <option value="claro" selected>Claro</option>
            <option value="oscuro">Oscuro</option>
          </select>
          <button id="guardar-tema" style="margin-left:1rem; padding:0.3rem 0.7rem;">Guardar</button>
        </div>
      
        <!-- Usuarios Internos -->
        <div style="margin-top:2rem; padding:1rem; border:1px solid #ccc; border-radius:8px; background:#f9f9f9;">
          <h3>Usuarios Internos</h3>
          <button id="btn-nuevo-usuario" style="background:#007bff; color:#fff; padding:0.5rem 1rem; border:none; border-radius:5px; cursor:pointer;">+ Nuevo Usuario</button>
      
          <table style="width:100%; margin-top:1rem; border-collapse: collapse;">
            <thead>
              <tr style="background:#eee;">
                <th style="padding:0.5rem; border:1px solid #ddd;">ID</th>
                <th style="padding:0.5rem; border:1px solid #ddd;">Nombre</th>
                <th style="padding:0.5rem; border:1px solid #ddd;">Email</th>
                <th style="padding:0.5rem; border:1px solid #ddd;">Rol</th>
                <th style="padding:0.5rem; border:1px solid #ddd;">Acciones</th>
              </tr>
            </thead>
            <tbody id="tabla-usuarios">
              <tr>
                <td style="padding:0.5rem; border:1px solid #ddd;">1</td>
                <td style="padding:0.5rem; border:1px solid #ddd;">Admin Principal</td>
                <td style="padding:0.5rem; border:1px solid #ddd;">admin@empresa.com</td>
                <td style="padding:0.5rem; border:1px solid #ddd;">Administrador</td>
                <td style="padding:0.5rem; border:1px solid #ddd;">
                  <button class="editar-usuario" data-id="1" style="margin-right:0.5rem;">Editar</button>
                  <button class="eliminar-usuario" data-id="1">Eliminar</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      
        <!-- Pasarela de Pago -->
        <div style="margin-top:2rem; padding:1rem; border:1px solid #ccc; border-radius:8px; background:#f9f9f9;">
          <h3>Pasarela de Pago</h3>
          <label for="api-key" style="display:block; margin-bottom:0.5rem;">API Key:</label>
          <input type="text" id="api-key" style="width:100%; padding:0.4rem;" placeholder="Ingrese la API Key de la pasarela" />
          <button id="guardar-api" style="margin-top:0.5rem; padding:0.4rem 1rem;">Guardar</button>
        </div>
      
      </section>
      
    </main>
  </div>

  <script>
    // Manejar cambio de pestañas del panel
    const buttons = document.querySelectorAll('.sidebar button');
    const sections = document.querySelectorAll('.panel-section');

    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        // Quitar active a todos los botones
        buttons.forEach(b => b.classList.remove('active'));
        // Poner active al clickeado
        btn.classList.add('active');

        // Mostrar la sección correspondiente
        sections.forEach(section => section.classList.remove('active'));
        const id = btn.id.replace('btn-', '');
        const panel = document.getElementById(id);
        if(panel) panel.classList.add('active');
      });
    });
  </script>
  <script>
    const btnNuevoCliente = document.getElementById('btn-nuevo-cliente');
    const formCliente = document.getElementById('form-cliente');
    const clienteForm = document.getElementById('cliente-form');
    const formTitulo = document.getElementById('form-titulo');
    const inputId = document.getElementById('cliente-id');
  
    const tablaClientes = document.getElementById('tabla-clientes');
  
    // Mostrar formulario para nuevo cliente
    btnNuevoCliente.addEventListener('click', () => {
      formTitulo.textContent = 'Nuevo Cliente';
      inputId.value = '';
      clienteForm.reset();
      formCliente.style.display = 'block';
    });
  
    // Cancelar formulario
    document.getElementById('cancelar').addEventListener('click', () => {
      formCliente.style.display = 'none';
    });
  
    // Guardar cliente (solo simulado)
    clienteForm.addEventListener('submit', e => {
      e.preventDefault();
  
      const id = inputId.value;
      const nombre = clienteForm.nombre.value.trim();
      const email = clienteForm.email.value.trim();
      const telefono = clienteForm.telefono.value.trim();
  
      if (!nombre || !email) {
        alert('Nombre y email son obligatorios');
        return;
      }
  
      if(id) {
        // Editar cliente (aquí puedes actualizar la fila en la tabla)
        const fila = tablaClientes.querySelector(`button[data-id="${id}"]`).closest('tr');
        fila.children[1].textContent = nombre;
        fila.children[2].textContent = email;
        fila.children[3].textContent = telefono;
      } else {
        // Nuevo cliente: agregar fila (ID incremental simple)
        const nuevoId = tablaClientes.rows.length + 1;
        const fila = document.createElement('tr');
        fila.innerHTML = `
          <td>${nuevoId}</td>
          <td>${nombre}</td>
          <td>${email}</td>
          <td>${telefono}</td>
          <td>
            <button class="editar" data-id="${nuevoId}">Editar</button>
            <button class="eliminar" data-id="${nuevoId}">Eliminar</button>
          </td>
        `;
        tablaClientes.appendChild(fila);
      }
  
      formCliente.style.display = 'none';
      clienteForm.reset();
    });
  
    // Delegar click en botones editar y eliminar
    tablaClientes.addEventListener('click', e => {
      if(e.target.classList.contains('editar')) {
        const id = e.target.dataset.id;
        const fila = e.target.closest('tr');
        formTitulo.textContent = 'Editar Cliente';
        inputId.value = id;
        clienteForm.nombre.value = fila.children[1].textContent;
        clienteForm.email.value = fila.children[2].textContent;
        clienteForm.telefono.value = fila.children[3].textContent;
        formCliente.style.display = 'block';
      }
  
      if(e.target.classList.contains('eliminar')) {
        if(confirm('¿Querés eliminar este cliente?')) {
          const fila = e.target.closest('tr');
          fila.remove();
        }
      }
    });
  </script>
  <footer style="text-align: center; padding: 1rem; background-color: #f1f1f1; margin-top: 2rem;">
    <small>&copy; 2025 Sistema de Ventas. Todos los derechos reservados.</small>
  </footer>
  
</body>
</html>